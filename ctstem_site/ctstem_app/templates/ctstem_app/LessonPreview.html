
{% load ctstem_extras %}
{% block media %}
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/2.2-latest/MathJax.js?config=TeX-AMS_HTML"></script>

  <style type="text/css" media="screen, print">
    @page {
      size: letter portrait;
      margin: 2cm, 1cm, 2cm, 1cm;

      @frame footer {
        -pdf-frame-content: footerContent;
        bottom: 0cm;
        margin-left: 1cm;
        margin-right: 1cm;
        height: 2cm;
      }
    }
    @font-face {
     font-family: Helvetica;
    }

    div#content {
      width: 90%;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 40px;
      margin-top: 2em;
      font-size: 1em;
    }

    div.table#lessonMeta {
      font-size: 1.2em;
    }
    div.table#lessonMeta div.meta {
      margin-bottom: 1em;
    }
    div.table#lessonMeta div.meta div.label {
      font-weight: 700;
      text-decoration: underline;
    }
    div.table#lessonContent {
      font-size: 1.2em;
      page-break-after: always;
    }
    div.table#lessonContent img {
      width: 200px;
    }
    div.table#lessonContent li {
      margin: 0 !important;
      padding: 0 !important;
    }
    div.table#lessonActivity {
      font-size: 1.2em;
    }
    div.table#lessonActivity table.student_info {
      font-weight: 700;
      width: 100%;
    }
    div.table#lessonActivity table.question_table {
      font-size: 1em;
      page-break-inside: avoid;
    }

    div.table#lessonActivity table.question_table .question_no{
      font-weight: 700;
    }
    div.table#lessonActivity h3.activity_title {
      text-decoration: underline;
    }
    div.table#lessonActivity .note {
      font-style: italic;
    }
    div.table#lessonActivity .answer_field  .input_container {
      margin-bottom: 10px;
    }
    div.table#lessonActivity .answer_field  .input_container span{
      vertical-align: top;
    }
    div.table#lessonActivity .answer_field .input_container .circle {
      border: 1px solid black;
      border-radius: 20px;
      height: 20px;
      width: 20px;
    }
    h2, h3 {
      text-align: center;
    }
    div#headerContent{
      text-align: center;
      margin-bottom: 3em;
    }
    div#headerContent img {
      vertical-align: middle;
      width: auto;
      margin-right: 30px;
    }

  </style>
{% endblock %}

{% block content %}
  <div id="headerContent">
    <img style="vertical-align: middle; height: 50px; width: auto;" src="http://ct-stem.northwestern.edu/assets/logo.png"/> &nbsp;&nbsp;&nbsp;
    <img style="vertical-align: middle; height: 50px; width: auto;" src="http://ct-stem.northwestern.edu/assets/ccl.png"/> &nbsp;&nbsp;&nbsp;
    <img style="vertical-align: middle; height: 50px; width: auto;" src="http://ct-stem.northwestern.edu/assets/tidal.png"/> &nbsp;&nbsp;&nbsp;
    <img style="vertical-align: middle; height: 50px; width: auto;" src="http://ct-stem.northwestern.edu/assets/osep.png"/> &nbsp;&nbsp;&nbsp;
    <img style="vertical-align: middle; height: 50px; width: auto;" src="http://ct-stem.northwestern.edu/assets/adler.png"/> &nbsp;&nbsp;&nbsp;
    <img style="vertical-align: middle; height: 50px; width: auto;" src="http://ct-stem.northwestern.edu/assets/ciera.png"/> &nbsp;&nbsp;&nbsp;
  </div>
  <div id="content" style="font-size: 1em;">
    <form>
      <div class="table" id="lessonMeta">
        {{form.management_form}}
        <h2>{{form.title.value|title}}</h2>
        <hr>
        <div class="meta">
          <div class="label">{{form.time.label}}</div>
          {{form.time.value}}
        </div>
        <div class="meta">
          <div class="label">{{form.level.label}}</div>
          <div>{{form.level.value}}</div>
        </div>
        <div class="meta">
          <div class="label">{{form.purpose.label}}</div>
          <div>{{form.purpose.value}}</div>
        </div>
        <div class="meta">
          <div class="label">{{form.overview.label}}</div>
          <div>{{form.overview.value}}</div>
        </div>
        <div class="meta">
          <div class="label">{{form.ngss_standards.label}}</div>
          {% for ngss in form|selected_labels:"ngss_standards" %}
            {{ngss}}
            <br>
          {% endfor %}
        </div>
        <div class="meta">
          <div class="label">{{form.ct_stem_practices.label}}</div>
          {% for ct_stem in form|selected_labels:"ct_stem_practices" %}
            {{ct_stem}}
            <br>
          {% endfor %}
        </div>
      </div>


      <div class="table" id="lessonContent">
        <div>{{form.content.value|format_iframe|inline_style|safe}}</div>
      </div>

      <div class="table" id="lessonActivity">

        <h3> Lesson Activity </h3>
        <table class="student_info">
          <tr>
            <td width="40%">Name:_________________________</td>
            <td width="30%">Class:_________________</td>
            <td width="30%">Date:__________________</td>
          </tr>
        </table>

        {% for activity in formset %}
          <h3 class="activity_title" style="text-decoration: underline;"> {{ activity.title.value }} </h3>

          <div class="activity_content"> {{activity.content.value|inline_style|safe}} </div>

            {% for questionForm in activity.nested %}
            <table class="question_table">
              <tr>
                <td width="5%" style="vertical-align: top;" class="question_no"> Q{{forloop.counter}}.</td>
                <td class="question_text"> {{questionForm.instance.question.question_text|inline_style|safe }} </td>
              </tr>
              <tr>
                <td></td>
                <td class="answer_field">
                  {% with field_type=questionForm.instance.question.answer_field_type %}
                    {% if field_type == 'TA' %}
                      <br><br><br><br><br><br><br><br><br><br>
                    {% elif field_type == 'TF' %}
                      <br><br><br><br><br>
                    {% elif field_type == 'DD' or field_type == 'MC' %}
                      <div class="multiplechoice">
                        <p class="note"> Note: Select one answer </p>
                        {% for option in questionForm.instance.question.options|split:','%}
                          <div class="input_container">
                            <img src="https://s3-us-west-1.amazonaws.com/ct-stem/assets/images/Circle.gif" class="circle"><span>&nbsp;&nbsp;{{option}}</span>
                          </div>
                        {% endfor %}
                      </div>
                    {% elif field_type == 'MS' %}
                      <div class="multiselect">
                        <p class="note"> Note: Select all that apply </p>
                        {% for option in questionForm.instance.question.options|split:','%}
                          <div class="input_container">
                            <img src="https://s3-us-west-1.amazonaws.com/ct-stem/assets/images/Square.gif" class="square" style="width:25px;"><span>&nbsp;&nbsp;{{option}} </span>
                          </div>
                        {% endfor %}
                      </div>
                    {% endif %}
                  {% endwith %}
                </td>
              </tr>
              </table>
            {% endfor %}

          <div> &nbsp; </div>

        {% endfor %}
      </div>

    </form>
  </div>

  <div id="footerContent">
    <table style="text-align:center;">
      <tr>
        <td width="10%"><img style="vertical-align: middle; height: 40px; width: auto;" src="http://ct-stem.northwestern.edu/assets/Logos/_resampled/resizedimage100100-NSFLogo.png"/></td>
        <td>This work is supported in part National Science Foundation under NSF grant CNS-1138461. However, any opinions, findings, conclusions, and/or recommendations are those of the investigators and do not necessarily reflect the views of the Foundation. </td>
      </tr>
      <tr>
        <td></td>
        <td>Copyright Â© 2015 Northwestern University</td>
      </tr>
      <tr>
        <td></td>
        <td>
          <pdf:pagenumber />
        </td>
      </tr>
    </table>
  </div>

{% endblock %}

